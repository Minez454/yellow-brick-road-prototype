<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Icons / Map -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <style>
    /* --- GLOBAL --- */
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0; padding: 0;
      display: flex; flex-direction: column;
      height: 100vh; overflow: hidden;
    }

    /* --- CHAT --- */
    #chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 120px; /* leave room for input + nav */
    }
    .message {
      padding: 12px 18px;
      border-radius: 18px;
      max-width: 85%;
      word-wrap: break-word;
    }
    .bot-message {
      background-color: white;
      align-self: flex-start;
      border: 1px solid #eee;
    }
    .user-message {
      background: linear-gradient(135deg, #ffd700, #ffecb3);
      color: #3e2723;
      align-self: flex-end;
      font-weight: 600;
    }

    .input-area {
      position: fixed;
      bottom: 55px; /* sits above nav-bar */
      left: 0;
      width: 100%;
      padding: 10px;
      background: white;
      display: flex;
      gap: 10px;
      border-top: 1px solid #eee;
      z-index: 300;
    }
    .input-area input {
      flex-grow: 1;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 25px;
      outline: none;
      background: #f9f9f9;
    }
    .send-btn {
      background: linear-gradient(135deg, #ffd700, #ffecb3);
      color: #3e2723;
      border: none;
      padding: 0 24px;
      border-radius: 25px;
      font-weight: bold;
    }

    /* --- NAV BAR --- */
    .nav-bar {
      background: linear-gradient(180deg, #ffc107 0%, #ffca28 100%);
      border-top: 3px solid #b78900;
      display: flex;
      justify-content: space-evenly;
      padding: 8px 5px;
      position: fixed;
      bottom: 0;
      width: 100%;
      z-index: 200;
    }
    .nav-item {
      text-align: center;
      color: #3e2723;
      opacity: 0.6;
      background: none;
      border: none;
      font-size: 0.65rem;
      font-weight: 700;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 1px;
      min-width: 16%;
    }
    .nav-item.active {
      opacity: 1;
      transform: translateY(-2px);
      text-shadow: 0 1px 0 rgba(255,255,255,0.5);
    }
    .nav-item i {
      display: block;
      font-size: 1.2rem;
      margin-bottom: 2px;
    }
  </style>
</head>
<body>

  <!-- Main App -->
  <div id="main-app" style="height:100%; flex-direction:column;">
    <!-- Chat -->
    <div id="chat-screen" class="screen active">
      <div id="chat-container">
        <div class="message bot-message">Hello. I am Brick. Think of me as a partner on your journey home. Tell me what's going on, and we will handle it together.</div>
      </div>
      <div class="input-area">
        <input type="text" id="user-input" placeholder="Type here..." onkeydown="handleEnterChat(event)">
        <button class="send-btn" onclick="sendChatMessage()">Send</button>
      </div>
    </div>

    <!-- Nav -->
    <div class="nav-bar" id="nav-bar">
      <button class="nav-item active" data-tab="chat"><i class="fas fa-comments"></i> Brick</button>
      <button class="nav-item" data-tab="map"><i class="fas fa-map-marked-alt"></i> Map</button>
      <button class="nav-item" data-tab="portal"><i class="fas fa-columns"></i> Portal</button>
      <button class="nav-item" data-tab="agencies"><i class="fas fa-building"></i> Agencies</button>
      <button class="nav-item" data-tab="workbooks"><i class="fas fa-graduation-cap"></i> Workbooks</button>
      <button class="nav-item" data-tab="vault"><i class="fas fa-wallet"></i> Vault</button>
    </div>
  </div>

  <script>
    function handleEnterChat(e) {
      if (e.key === "Enter") sendChatMessage();
    }
    function sendChatMessage() {
      var input = document.getElementById("user-input");
      var text = input.value.trim();
      if (!text) return;
      document.getElementById('chat-container').innerHTML += `
        <div class="message user-message">${text}</div>
      `;
      input.value = "";
      setTimeout(() => {
        document.getElementById('chat-container').innerHTML += `
          <div class="message bot-message">I hear you. Let's work on this together.</div>
        `;
      }, 600);
    }
  </script>
</body>
</html>
